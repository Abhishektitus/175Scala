Problem Scenario 4: You have been given MySQL DB with following details. 
user=retail_dba 
password=cloudera 
database=retail_db 
table=retail_db.categories 
jdbc URL = jdbc:mysql://quickstart:3306/retail_db 
Please accomplish following activities. 
Import Single table categories(Subset data) to hive managed table, where category_id between 1 and 22 

So the following is the answer but not clear nor working:
sqoop import \
--connect jdbc:mysql://ms.itversity.com/retail_db \
--username=retail_user \
--password=itversity \
--table=categories \
--where "category_id between 1 and 22" \
--hive-import  

Unfortunately it is not working with the following error:
FAILED: IllegalStateException Unxpected Exception thrown: Unable to fetch table categories. org.apache.hadoop.security.AccessControlException: Permission denied: user=paslechoix, access=EXECUTE, inode="/user/narendrareddy/categories":narendrareddy:hdfs:drwx------


I thought maybe I need to indicate hive-home?  so I added 
--hive-home paslechoix
(paslechoix is my user id on lab)

I removed the created directory on hdfs and run the import again with the new option, I got the same error:

FAILED: IllegalStateException Unxpected Exception thrown: Unable to fetch table categories. org.apache.hadoop.security.AccessControlException: Permission denied: user=paslechoix, access=EXECUTE, inode="/user/narendrareddy/categories":narendrareddy:hdfs:drwx------

Can anyone please help me? Thank you very much.


Answer:
sqoop import --connect jdbc:mysql://ms.itversity.com:3306/retail_export \
	--username=retail_user \
	--password=itversity \
	--table=categories \
	--warehouse-dir=categories_subset8 \
	--where "category_id = 60" \
	--fields-terminated-by "|" \
	--input-null-non-string ='NA' \
	--input-null-string=0

sqoop import --connect jdbc:mysql://ms.itversity.com:3306/retail_export -m 1 \
	--username=retail_user \
	--password=itversity \
	--table=categories \
	--warehouse-dir=categories_subset8 \
	--where "category_id = 60" \
	--fields-terminated-by '|' \
	--null-string=’N’ \
	--null-non-string=’N’ 


Scenario 6:
sqoop import-all-tables -m 3 \
--connect "jdbc:mysql://ms.itversity.com:3306/retail_db" \
--username=retail_user \
--password=itversity \
--hive-import \
--hive-home /apps/hive/warehouse \
--hive-database paslechoix \
--create-hive-table \
--compress \
--compression-codec org.apache.hadoop.io.compress.SnappyCodec \
--outdir java_output

[paslechoix@gw01 ~]$ cd java_output/
[paslechoix@gw01 java_output]$ ls
categories.java  customers.java  departments.java  order_items.java  order_items_nopk.java
[paslechoix@gw01 java_output]$ ll
total 104
-rw-r--r-- 1 paslechoix students 14122 Jan 31 13:32 categories.java
-rw-r--r-- 1 paslechoix students 27624 Jan 31 13:35 customers.java
-rw-r--r-- 1 paslechoix students 11571 Jan 31 13:36 departments.java
-rw-r--r-- 1 paslechoix students 22553 Jan 31 13:37 order_items.java
-rw-r--r-- 1 paslechoix students 22643 Jan 31 13:37 order_items_nopk.java


Where is the order_items_nopk.java from?
